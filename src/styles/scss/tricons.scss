@import 'tricons/empty';
@import 'tricons/loading';
@import 'tricons/menu';
@import 'tricons/x';

$tricon-icons: (menu x empty loading) !default;
$tricon-active-class: ".active " !default;
$tricon-thickness: 2px !default;
$tricon-width: 21px !default;
$tricon-height: 12px !default;
$tricon-pad-vert: 6px !default;
$tricon-pad-horz: 6px !default;
$tricon-color: #fff !default;
$tricon-color-hover: #000 !default;

@mixin tricon-bar1 { &:before { @content; } }
@mixin tricon-bar2 { i:before { @content; } }
@mixin tricon-bar3 { i:after { @content; } }
@mixin tricon-bar4 { &:after { @content; } }
@mixin tricon-icon {
  @include tricon-bar1 { @content; }
  @include tricon-bar2 { @content; }
  @include tricon-bar3 { @content; }
  @include tricon-bar4 { @content; }
}

@mixin tricon($icons: $tricon-icons, $active-class: $tricon-active-class, $thickness: $tricon-thickness, $width: $tricon-width, $height: $tricon-height, $pad-vert: $tricon-pad-vert, $pad-horz: $tricon-pad-horz, $color: $tricon-color, $color-hover: $tricon-color-hover) {
  $bar-thickness: $thickness;
  $bar-width: $width;
  width: 0;
  // Width is set in each tricon mixin
  &%tricon-width {
    width: $width + $pad-horz;
  }
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  display: inline-block;
  position: relative;
  top: -$bar-thickness / 2;
  vertical-align: super;
  font-size: 0;
  transition: all 200ms ease;

  %all-bars,
  &%all-bars {
    content: '';
    height: $bar-thickness;
    width: $bar-width;
    background: $color;
    display: block;
    position: absolute;
    top: 50%;
    margin-top: -$bar-thickness / 2;
    left: 50%;
    transform: translate(0, 0) rotate(90deg) scale(0, 1);
    transition: all 200ms ease;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    margin-left: -($bar-width / 2);
  }

  @include tricon-icon { @extend %all-bars; }

  &:first-child {
    @include tricon-icon { margin-left: -(($bar-width + $pad-horz) / 2); }
  }
  &:last-child {
    @include tricon-icon { margin-left: -(($bar-width - $pad-horz) / 2); }
  }

  &:first-child:nth-last-child(1) {
   @include tricon-icon { margin-left: -($bar-width / 2); }
  }

  @each $icon in $icons {
    @if mixin-exists(tricon-#{$icon}) {
      @if $icon == menu { @include tricon-menu($icons, $active-class, $bar-thickness, $bar-width, $height, $pad-vert, $pad-horz, $color, $color-hover); }
      @else if $icon == x { @include tricon-x($icons, $active-class, $bar-thickness, $bar-width, $height, $pad-vert, $pad-horz, $color, $color-hover); }
      @else if $icon == empty { @include tricon-empty($icons, $active-class, $bar-thickness, $bar-width, $height, $pad-vert, $pad-horz, $color, $color-hover); }
      @else if $icon == loading { @include tricon-loading($icons, $active-class, $bar-thickness, $bar-width, $height, $pad-vert, $pad-horz, $color, $color-hover); }
    }
  }
}

